# 요구사항

* Application에서 에러 발생 시 SMS, MAIL, SLACK 등을 통해서 담당자에 알람이 전송되어야 한다.



### 모니터링 및 알림 아키텍처 설계

#### 1. **모니터링 설정**

1. **Prometheus**:
   - **역할**: 노드, 애플리케이션 및 다양한 익스포터로부터 메트릭을 수집.
   - **주요 메트릭**: CPU, 메모리, 디스크 사용량, 응답 시간, 애플리케이션 오류 등을 모니터링.

2. **Grafana**:
   - **역할**: 실시간 대시보드에서 수집된 메트릭을 시각화.
   - **통합**: Prometheus를 데이터 소스로 사용하여 시각화 구성.

3. **애플리케이션 로깅 및 오류 모니터링**:
   - **통합**: Fluentd/Fluent Bit 등을 통해 애플리케이션 로그 및 오류를 Prometheus 또는 Elasticsearch로 전달.





#### 2. **알림 시스템**

1. **Prometheus Alertmanager**:
   - **역할**: Prometheus에서 설정된 경고 규칙을 관리하고, 임계치 초과 시 알림을 트리거.
   - **경고 규칙**: 
     - CPU 사용률 80% 초과 시 경고.
     - 메모리 사용률 75% 초과 시 경고.
     - 애플리케이션 오류 발생 시 경고(예: 5xx 오류).

2. **알림 통합**:
   - **SMS**: Twilio 등의 SMS 서비스와 Alertmanager를 연동하여 SMS 알림 전송.
   - **이메일**: Alertmanager에 SMTP 서버를 설정하여 이메일 알림 전송.
   - **Slack**: 웹훅을 사용해 Slack 채널로 알림 전송.

3. **알림 워크플로우**:
   - **임계치 초과**: 설정된 임계치(예: 높은 CPU 사용률)를 초과하면 Prometheus가 경고를 트리거.
   - **애플리케이션 오류**: 애플리케이션에서 오류가 발생하면 로그를 기반으로 경고를 트리거하고 알림을 발송.
4. 구조도

링크 : https://kimdubi.github.io/mysql/alertmanager/



