- 요구사항 및 시스템 용량 산정 결과를 기반으로 Container 상세 설계 역량 검증
  - Kubernates NodeGroup 구성 시 고려사항 작성
  - Node Size 설계 및 근거, Application Pod 사이즈 설계 및 근거 작성



### Container 상세 설계: Kubernates NodeGroup 구성 및 Pod 설계

#### 1. **Kubernetes NodeGroup 구성 시 고려사항**

1. **워크로드 특성**:
   - **컴퓨팅 리소스 요구사항**: CPU 및 메모리 사용량에 따라 NodeGroup을 구성합니다.
   - **애플리케이션의 가용성 요구**: 가용성 영역(Availability Zone)에 분산 배치하여 장애 시 서비스 지속성을 보장합니다.

2. **스케일링 전략**:
   - **자동 확장(Auto Scaling)**: 트래픽 패턴에 따라 자동으로 노드를 추가 또는 제거할 수 있도록 설정합니다.
   - **수평 확장(Horizontal Scaling)**: 클러스터가 여러 노드에 걸쳐 확장될 수 있도록 고려합니다.

3. **네트워크 설계**:
   - **네트워크 플러그인 선택**: 네트워크 트래픽 관리와 성능을 고려하여 네트워크 플러그인(CNI) 선택.
   - **IP 주소 관리**: 충분한 IP 주소 공간을 확보하여 Pod와 서비스 간의 통신이 원활하도록 합니다.

4. **보안 고려사항**:
   - **RBAC(Role-Based Access Control)**: 각 NodeGroup에 대해 적절한 권한을 설정하여 보안을 강화합니다.
   - **네트워크 정책(Network Policies)**: Node 간 및 Pod 간의 통신을 제한하여 보안을 강화합니다.

#### 2. **Node Size 설계 및 근거**

1. **기본 Node Size 선택**:
   - **CPU와 메모리 할당**: 요구사항에 따라 노드의 vCPU와 RAM 크기를 결정합니다. 예를 들어, 평균적인 애플리케이션 요구사항이 2 vCPU와 4GB RAM인 경우, 기본적으로 4 vCPU와 16GB RAM을 갖춘 노드를 선택할 수 있습니다.
   - **근거**: 
     - **워크로드 분석**: 애플리케이션의 평균 리소스 사용량을 분석한 후, 피크 트래픽에 대비한 여유 리소스를 추가로 할당.
     - **비용 최적화**: 노드의 과도한 리소스 사용을 피하면서도, 빈번한 스케일링으로 인한 오버헤드를 줄이기 위한 설계.

2. **스케일링 전략**:
   - **HPA와 연계된 Node 수 계산**: HPA의 Pod 수 증가에 맞춰 노드가 자동으로 추가될 수 있도록 스케일링 설정.
   - **노드 수**: 일반적으로 최대 80%의 리소스 사용률을 기준으로 노드 수를 설계하여 여유 공간을 확보.

#### 3. **Application Pod 사이즈 설계 및 근거**

1. **Pod 리소스 요청 및 제한 설정**:
   - **리소스 요청(CPU/메모리)**: 각 Pod에 대해 예상되는 최소 리소스를 요청으로 설정. 예: 500m CPU, 1GB 메모리.
   - **리소스 제한**: 과도한 리소스 사용을 방지하기 위해 제한 값을 설정. 예: 1 vCPU, 2GB 메모리.

2. **Pod 수 계산**:
   - **평균 트래픽 대비**: 평균 트래픽을 기준으로 필요한 Pod 수를 계산하여 HPA의 최소값을 설정합니다.
   - **피크 트래픽 대비**: 피크 트래픽 시에도 성능 저하 없이 서비스를 제공할 수 있도록 최대 Pod 수를 설정합니다.

3. **애플리케이션 특성 고려**:
   - **상태 비저장 vs 상태 저장**: 상태 비저장 서비스는 쉽게 스케일링이 가능하므로, 작은 크기의 Pod를 여러 개 배포합니다. 상태 저장 서비스는 더 큰 리소스를 가진 Pod로 배포하되, 리소스 요청과 제한을 신중히 설정합니다.

### 결론
이 설계는 NodeGroup과 Pod의 리소스 사용을 최적화하여 Kubernetes 클러스터에서 애플리케이션을 안정적이고 비용 효율적으로 운영할 수 있도록 합니다. NodeGroup은 가용성과 스케일링을 고려하여 구성되며, Pod는 애플리케이션의 리소스 요구사항을 기반으로 설계됩니다.
